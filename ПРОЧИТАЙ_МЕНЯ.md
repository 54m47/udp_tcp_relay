# Реле от UDP к ТКP

Эта программа является релеем от UDP к ТКП, который принимает данные по протоколу UDP и отправляет их на сервер. Она создана для обработки специфических требований и обеспечивает надежную передачу данных соединений по протоколам UDP и TCP.

## Особенности

- Принимает блоки данных по протоколу и отправляет их на сервер по протоколу TCP
- Каждый пакет UDP может содержать только один блок данных длиной от 16 до 128 байт
- Добавляет префикс из четырёх символов (задаётся параметром) каждому блоку данных до отправки на сервер
- Поддерживает постоянное соединение по протоколу TCP с сервером и автоматически восстанавливает соединение в случае ошибки
- Отбрасывает данные по UDP, если они приходят, когда соединение по протоколу TCP не установлено
- Игнорирует любые данные, полученные от сервера TCP
- Логирует важные события, такие как установка или разрыв соединения по TCP, ошибки передачи или приема данных, и т.д.

## Требования

- Операционная система Linux
- Компилятор GCC
- Система сборки Make

## Сборка программы

Для сборки программы навигируйтесь в каталог проекта и выполните следующую команду:

```
make
```

Это команда компилирует с исходными файлами и создаст исполняемый файл `udp_tcp_relay`.

## Запуск программы

Для запуска программы используйте следующую команду:

```
./udp_tcp_relay <udp_ip:port> <tcp_ip:port> <log_file> <prefix>
```

- `<udp_ip:port>`: IP адрес и номер порта для приема данных по UDP.
- `<tcp_ip:port>`: IP адрес и номер порта сервера TCP для отправки измененных данных.
- `<log_file>`: Путь к файлу журнала, где будут записываться важные события.
- `<prefix>`: Четыре символа, которые будут добавлены как префикс к передаваемым Данным

## Тестовые серверные программы

Репозиторий также содержит тестовые серверные программы в папке `test_servers`. Эти программы можно использовать для симуляции установки UDP клиента и сервера TCP во время тестирования.

Чтобы запустить тестовые серверы, откройте новое окно терминала, перейдите в папку `test_servers` и выполните следующую скоманду:

```
make
```

Это позволит собрать TCP-сервер и UDP-сервер.


```
make run
```

Эта команда запустит сервер TCP и одновременно запустит клиента UDP.

Для остановки тестовых серверов выполните следующую команду:

```
make stop
```

Эта команда завершит работу Процесс сервера TCP.

## Структура папок

- `include/`: Содержит файлы заголовков.
- `src/`: Содержит исходные файлы кода.
- `obj/`: Содержит объектные файлы, созданные в процессе компиляции.
- `test_servers/`: Содержит тестовые серверные программы (клиент UDP и сервер TCP).
